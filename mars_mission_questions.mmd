graph TD
    %% ROOT
    0((0. How to create a spacecraft to Mars...)) --> 1("1. How to ensure the minimum mass of the spacecraft?")
    0 --> 2("2. How to ensure radiation protection for the crew?")
    0 --> 3("3. How to ensure the airtightness and safety of the structure?")
    0 --> 4("4. How to combine chemical and nuclear engines in one ship?")
    0 --> 5("5. How to ensure the reusability of the ship?")

    %% BRANCH 1
    1 --> 1.1("1.1 How should materials be used?")
    1.1 --> 1.1.1("1.1.1 What lightweight materials are suitable for the hull?")
    1.1.1 --> 1.1.1.1("1.1.1.1 What types of carbon fiber are suitable?")
    1.1.1.1 --> 1.1.1.1.1("1.1.1.1.1 What type of carbon fiber weave is needed?")
    1.1.1.1.1 --> 1.1.1.1.1.1("What is weaving in the context of composites?")
    1.1.1.1.1 --> 1.1.1.1.1.2("How does fiber direction affect the force vector?")
    1.1.1.1 --> 1.1.1.1.2("1.1.1.1.2 What elastic modulus of carbon fiber to choose?")
    1.1.1.1.2 --> 1.1.1.1.2.1("What is Young's modulus?")
    1.1.1.1.2 --> 1.1.1.1.2.2("What force in Newtons causes 1% elongation?")
    1.1.1.1 --> 1.1.1.1.3("1.1.1.1.3 What tensile strength of carbon fiber is necessary?")
    1.1.1.1.3 --> 1.1.1.1.3.1("At what load in Pascals does the molecular bond break?")

    1.1.1 --> 1.1.1.2("1.1.1.2 What glass fibers can be used?")
    1.1.1.2 --> 1.1.1.2.1("1.1.1.2.1 What is the minimum possible fiber diameter?")
    1.1.1.2 --> 1.1.1.2.2("1.1.1.2.2 What composite density is acceptable?")
    1.1.1.2 --> 1.1.1.2.3("1.1.1.2.3 What fiber orientation to choose?")

    1.1.1 --> 1.1.1.3("1.1.1.3 What nanocomposites are suitable?")
    1.1.1.3 --> 1.1.1.3.1("1.1.1.3.1 What nanoparticles to use?")
    1.1.1.3.1 --> 1.1.1.3.1.1("What is a nanoparticle by definition?")
    1.1.1.3.1 --> 1.1.1.3.1.2("What chemical element does the core consist of?")
    1.1.1.3 --> 1.1.1.3.2("1.1.1.3.2 What matrix for the nanocomposite to apply?")
    1.1.1.3 --> 1.1.1.3.3("1.1.1.3.3 How to ensure the homogeneity of the nanocomposite?")

    1.1 --> 1.1.2("1.1.2 Should hydrogen-containing materials be used?")
    1.1.2 --> 1.1.2.1("1.1.2.1 What polymers with high hydrogen content can be used?")
    1.1.2.1 --> 1.1.2.1.1("1.1.2.1.1 What type of polyethylene is suitable?")
    1.1.2.1 --> 1.1.2.1.2("1.1.2.1.2 What type of polyacrylate is suitable?")
    1.1.2.1 --> 1.1.2.1.3("1.1.2.1.3 What level of hydrogen in the material is necessary?")

    1 --> 1.2("1.2 How to reduce fuel mass?")
    1.2 --> 1.2.1("1.2.1 What engines to use?")
    1.2.1 --> 1.2.1.1("1.2.1.1 What chemical engine is needed?")
    1.2.1.1 --> 1.2.1.1.1("1.2.1.1.1 What type of fuel is needed for liftoff?")
    1.2.1.1 --> 1.2.1.1.2("1.2.1.1.2 What type of fuel is needed for landing?")
    1.2.1.1 --> 1.2.1.1.3("1.2.1.1.3 What nozzle expansion ratio is required?")
    1.2.1 --> 1.2.1.2("1.2.1.2 What nuclear thermal engine to use?")
    1.2.1.2 --> 1.2.1.2.1("1.2.1.2.1 What nuclear reactor to use?")
    1.2.1.2 --> 1.2.1.2.2("1.2.1.2.2 What propellant to use?")
    1.2.1.2 --> 1.2.1.2.3("1.2.1.2.3 What working medium temperature to maintain?")

    1.2 --> 1.2.2("1.2.2 How to reduce the amount of fuel required?")
    1.2.2 --> 1.2.2.1("1.2.2.1 Which route minimizes fuel consumption?")
    1.2.2.1 --> 1.2.2.1.1("1.2.2.1.1 Which launch window to choose?")
    1.2.2.1 --> 1.2.2.1.2("1.2.2.1.2 Which flight is minimal in time?")
    1.2.2.1 --> 1.2.2.1.3("1.2.2.1.3 Which flight is minimal in Î”v?")

    1.2 --> 1.2.3("1.2.3 Where to get fuel for the return?")
    1.2.3 --> 1.2.3.1("1.2.3.1 How to produce fuel on Mars?")
    1.2.3.1 --> 1.2.3.1.1("1.2.3.1.1 How to extract CO2?")
    1.2.3.1 --> 1.2.3.1.2("1.2.3.1.2 How to extract water from the soil?")
    1.2.3.1.2 --> 1.2.3.1.2.1("Boiling point of water at Martian pressure?")
    1.2.3.1.2 --> 1.2.3.1.2.2("Bond energy of a water molecule with regolith?")
    1.2.3.1 --> 1.2.3.1.3("1.2.3.1.3 How to produce methane?")
    1.2.3 --> 1.2.3.2("1.2.3.2 How to store the produced fuel?")
    1.2.3.2 --> 1.2.3.2.1("1.2.3.2.1 What storage temperature is needed?")
    1.2.3.2 --> 1.2.3.2.2("1.2.3.2.2 What type of tanks is needed?")
    1.2.3.2 --> 1.2.3.2.3("1.2.3.2.3 How to prevent leakage?")

    1 --> 1.3("1.3 How to ensure stability and landing?")
    1.3 --> 1.3.1("1.3.1 How to ensure a low center of gravity?")
    1.3.1 --> 1.3.1.1("1.3.1.1 Where should the tanks be located?")
    1.3.1.1 --> 1.3.1.1.1("1.3.1.1.1 What tank volume is optimal?")
    1.3.1.1 --> 1.3.1.1.2("1.3.1.1.2 What shape should the tank be?")
    1.3.1.1 --> 1.3.1.1.3("1.3.1.1.3 Where should the tank be attached?")
    1.3.1 --> 1.3.1.2("1.3.1.2 Where to place the engines?")
    1.3.1 --> 1.3.1.3("1.3.1.3 How to place the cargo?")
    1.3 --> 1.3.2("1.3.2 How to ensure stable vertical landing?")
    1.3.2 --> 1.3.2.1("1.3.2.1 What supports to use?")
    1.3.2.1 --> 1.3.2.1.1("1.3.2.1.1 What length should the supports be?")
    1.3.2.1 --> 1.3.2.1.2("1.3.2.1.2 What support thickness to choose?")
    1.3.2.1 --> 1.3.2.1.3("1.3.2.1.3 What support spread angle is optimal?")
    1.3.2 --> 1.3.2.2("1.3.2.2 How to damp the impact energy?")
    1.3.2 --> 1.3.2.3("1.3.2.3 How to ensure automatic stabilization?")

    %% BRANCH 2
    2 --> 2.1("2.1 What types of radiation require protection?")
    2.1 --> 2.1.1("2.1.1 How to protect against solar proton flares?")
    2.1.1 --> 2.1.1.1("2.1.1.1 Where to place the storm shelter?")
    2.1.1.1 --> 2.1.1.1.1("2.1.1.1.1 What storm shelter volume is needed?")
    2.1.1.1 --> 2.1.1.1.2("2.1.1.1.2 Where to place water supplies around it?")
    2.1.1.1 --> 2.1.1.1.3("2.1.1.1.3 How to ensure ventilation in the shelter?")
    2.1 --> 2.1.2("2.1.2 How to protect against galactic cosmic rays?")
    2.1.2 --> 2.1.2.1("2.1.2.1 What thickness of the hydrogen-containing layer is needed?")
    2.1.2.1 --> 2.1.2.1.1("What is the particle capture cross-section?")
    2.1.2.1 --> 2.1.2.1.2("Density of hydrogen nuclei per 1 cm3?")
    2.1.2.1 --> 2.1.2.1.3("How to reduce secondary particles?")

    2 --> 2.2("2.2 How to use active radiation protection?")
    2.2 --> 2.2.1("2.2.1 What magnetic screens can be applied?")
    2.2.1 --> 2.2.1.1("2.2.1.1 What type of magnets to choose?")
    2.2.1.1 --> 2.2.1.1.1("2.2.1.1.1 What field is required to be created?")
    2.2.1.1.1 --> 2.2.1.1.1.1("What is induction in Teslas?")
    2.2.1.1.1 --> 2.2.1.1.1.2("Calculation of the Lorentz force for a proton?")
    2.2.1.1 --> 2.2.1.1.2("2.2.1.1.2 How to cool the magnets?")
    2.2.1.1 --> 2.2.1.1.3("2.2.1.1.3 How to keep the structure from deforming?")
    2.2 --> 2.2.2("2.2.2 What plasma screens are possible?")
    2.2.2 --> 2.2.2.1("2.2.2.1 What plasma generator to use?")
    2.2.2 --> 2.2.2.2("2.2.2.2 How to stabilize the plasma field?")
    2.2.2 --> 2.2.2.3("2.2.2.3 How to protect the ship itself from plasma?")

    2 --> 2.3("2.3 How to reduce the crew's time under radiation?")
    2.3 --> 2.3.1("2.3.1 How to reduce the flight duration?")
    2.3.1 --> 2.3.1.1("2.3.1.1 How to increase the ship's speed?")
    2.3.1.1 --> 2.3.1.1.1("2.3.1.1.1 Which engine gives maximum speed?")
    2.3.1.1 --> 2.3.1.1.2("2.3.1.1.2 How to reduce the ship's mass?")
    2.3.1.1 --> 2.3.1.1.3("2.3.1.1.3 How to accelerate the speedup?")
    2.3 --> 2.3.2("2.3.2 How to reduce the duration of stops in orbit?")
    2.3.2 --> 2.3.2.1("2.3.2.1 How to speed up the docking of ships?")
    2.3.2 --> 2.3.2.2("2.3.2.2 How to minimize refueling?")
    2.3.2 --> 2.3.2.3("2.3.2.3 How to synchronize orbits?")

    %% BRANCH 3
    3 --> 3.1("3.1 How to prevent hull punctures?")
    3.1 --> 3.1.1("3.1.1 How to use self-healing resins?")
    3.1.1 --> 3.1.1.1("3.1.1.1 How does the resin react to oxygen?")
    3.1.1.1 --> 3.1.1.1.1("What is radical polymerization?")
    3.1.1.1 --> 3.1.1.1.2("Curing speed in seconds?")
    3.1.1.1 --> 3.1.1.1.3("What resin layer thickness is needed?")
    3.1 --> 3.1.2("3.1.2 How to protect against micrometeoroids?")
    3.1.2 --> 3.1.2.1("3.1.2.1 What multi-layer shield to use?")
    3.1.2 --> 3.1.2.2("3.1.2.2 What gap between layers is needed?")
    3.1.2 --> 3.1.2.3("3.1.2.3 How to reduce internal damage?")

    3 --> 3.2("3.2 How to prevent leakage of radioactive substances?")
    3.2 --> 3.2.1("3.2.1 How to seal the nuclear reactor?")
    3.2.1 --> 3.2.1.1("3.2.1.1 How to use silicon carbide?")
    3.2.1.1 --> 3.2.1.1.1("SiC crystal lattice type?")
    3.2.1.1 --> 3.2.1.1.2("Melting point of SiC in Kelvins?")
    3.2.1.1 --> 3.2.1.1.3("How to ensure thermal resistance?")
    3.2 --> 3.2.2("3.2.2 How to isolate the reactor from the living module?")
    3.2.2 --> 3.2.2.1("3.2.2.1 Where to place the reactor?")
    3.2.2 --> 3.2.2.2("3.2.2.2 What screen to put between them?")
    3.2.2 --> 3.2.2.3("3.2.2.3 How to remove heat from the reactor?")

    %% BRANCH 4
    4 --> 4.1("4.1 How to separate engine functions?")
    4.1 --> 4.1.1("4.1.1 How to use a chemical engine?")
    4.1.1 --> 4.1.1.1("4.1.1.1 What thrust is needed for liftoff?")
    4.1.1 --> 4.1.1.2("4.1.1.2 What thrust is needed for landing?")
    4.1.1 --> 4.1.1.3("4.1.1.3 How to stabilize thrust in the Martian atmosphere?")
    4.1 --> 4.1.2("4.1.2 How to use a nuclear engine?")
    4.1.2 --> 4.1.2.1("4.1.2.1 How to avoid operation in the atmosphere?")
    4.1.2 --> 4.1.2.2("4.1.2.2 How to start the reactor in space?")
    4.1.2 --> 4.1.2.3("4.1.2.3 How to shut down and cool the reactor?")

    %% BRANCH 5
    5 --> 5.1("5.1 What is the resource of the materials?")
    5.1 --> 5.1.1("5.1.1 How to calculate thermal load cycles?")
    5.1.1 --> 5.1.1.1("What is thermal load by definition?")
    5.1.1 --> 5.1.1.2("What is the coefficient of thermal expansion of the material?")
    5.1.1 --> 5.1.1.3("What is the temperature delta in Kelvins?")
    5.1.1 --> 5.1.1.4("Number of cycles until fatigue failure?")
    5.1 --> 5.1.2("5.1.2 How to check composite fatigue?")
    5.1 --> 5.1.3("5.1.3 How to control polymer degradation?")
    5 --> 5.2("5.2 How to repair the ship in space?")
    5.2 --> 5.2.1("5.2.1 Which modules should be accessible?")
    5.2 --> 5.2.2("5.2.2 What tools are needed?")
    5.2 --> 5.2.3("5.2.3 What diagnostic sensors are required?")

    style 0 fill:#fcf,stroke:#333,stroke-width:2px
    style 1 fill:#dff,stroke:#333
    style 2 fill:#dff,stroke:#333
    style 3 fill:#dff,stroke:#333
    style 4 fill:#dff,stroke:#333
    style 5 fill:#dff,stroke:#333